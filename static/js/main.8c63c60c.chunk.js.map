{"version":3,"sources":["components/Header.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js","images/header__logo.svg"],"names":["Header","className","src","logo","alt","Card","link","myId","cardId","handleCardClick","onCardLike","onCardDelete","owner","name","likes","isLiked","some","i","_id","onClick","type","id","length","CurrentUserContext","React","createContext","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","cards","userContext","useContext","avatar","about","map","props","key","Footer","PopupWithForm","title","submitButtonText","isOpen","onClose","children","onSubmit","ImagePopup","card","api","options","this","url","baseUrl","headers","response","ok","json","Promise","reject","statusText","fetch","then","_handleResponse","catch","err","console","log","data","method","body","JSON","stringify","object","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","currentUser","useEffect","e","preventDefault","value","onChange","target","minLength","maxLength","placeholder","required","EditAvatarPopup","onUpdateAvatar","inputValue","useRef","current","ref","AddPlacePopup","inputPlaceName","inputPlaceLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","getUser","result","getInitialCards","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","updateProfileInfo","newProfile","createCard","updateProfileAvatar","newAvatar","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8c63c60c.chunk.js","sourcesContent":["import React from 'react';\nimport logo from '../images/header__logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Место\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Card({link, myId, cardId, handleCardClick, onCardLike, onCardDelete, owner, name, likes}) {\n  const isLiked = likes.some(i => i._id === myId);\n\n  function handleClick() {\n    handleCardClick({name, link});\n  }\n\n  function handleLikeClick() {\n    onCardLike({cardId, likes});\n  }\n\n  function handleDeleteClick() {\n    onCardDelete({cardId});\n  }\n\n  return (\n      <div className=\"card\">\n        <img className=\"card__image\" src={link} alt={name} onClick={handleClick} />\n        {myId === owner._id ? (<button type=\"button\" className=\"card__trash-button\" onClick={handleDeleteClick} ></button>) : (<></>) }\n        <p className=\"card__text\">{name}</p>\n        <button type=\"button\" className={isLiked ? 'card__like-button card__like-button_active' : 'card__like-button'} id=\"like\" onClick={handleLikeClick} ></button>\n        <p className=\"card__like-counter\">{likes.length}</p>\n      </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\n  const userContext = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar\">\n            <img className=\"profile__img\" src={userContext.avatar} alt=\"Ваш аватар\" />\n            <div className=\"profile__overlay\" onClick={onEditAvatar}></div>\n          </div>\n          <div className=\"profile__info\">\n            <p className=\"profile__author\">{userContext.name}</p>\n            <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n            <p className=\"profile__subject\">{userContext.about}</p>\n          </div>\n          <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n        </section>\n        <section className=\"cards\">\n          {\n          cards.map(({_id, ...props}) =>\n          <Card key={_id} onCardLike={onCardLike} onCardDelete={onCardDelete} handleCardClick={onCardClick} cardId={_id} myId={userContext._id} {...props} />)\n          }\n        </section>\n      </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm({title, name, submitButtonText, isOpen, onClose, children, onSubmit}) {\n  return (\n    <div className={isOpen ? 'popup popup_opened': 'popup'} id={name}>\n      <form className=\"popup__container\" onSubmit={onSubmit} >\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button type=\"submit\" className=\"popup__submit-button\">{submitButtonText}</button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction ImagePopup({onClose, card }) {\n  return (\n    <div className={card ? 'popup popup_opened': 'popup'} id=\"photo\">\n      <div className=\"popup__photo-container\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n        <img className=\"popup__photo-image\" src={card ? card.link : ''} alt={card ? card.name : ''} />\n        <p className=\"popup__photo-text\">{card ? card.name : ''}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import {config} from './constants';\n\nclass Api {\n  constructor(options) {\n    this.url = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _handleResponse(response){\n    if (response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(response.statusText);\n    }\n  }\n\n  getUser() {\n    return fetch(`${this.url}/users/me`, { headers: this.headers})\n      .then(this._handleResponse)\n      .catch((err)=>{\n        console.log(`Ошибка запроса пользователя: ${err}`);\n      });\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, { headers: this.headers})\n      .then(this._handleResponse)\n      .catch((err)=>{\n        console.log(`Ошибка запроса карточек: ${err}`);\n      });\n  }\n\n  updateProfileInfo(data) {\n    return fetch(`${this.url}/users/me`,\n      {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.object\n        })\n      }\n    )\n      .then(this._handleResponse)\n      .catch((err)=>{\n        console.log(`Ошибка обновления профиля: ${err}`);\n      });\n  }\n\n  updateProfileAvatar(data) {\n    return fetch(`${this.url}/users/me/avatar`,\n      {\n        method: 'PATCH',\n        headers: this.headers,\n        body: JSON.stringify({\n          avatar: data.object\n        })\n      }\n    )\n      .then(this._handleResponse)\n      .catch((err)=>{\n        console.log(`Ошибка обновления аватара: ${err}`);\n      });\n  }\n\n  createCard(data) {\n    return fetch(`${this.url}/cards`,\n      {\n        method: 'POST',\n        headers: this.headers,\n        body: JSON.stringify({\n          name: data.name,\n          link: data.object\n        })\n      }\n    )\n      .then(this._handleResponse)\n      .catch((err)=>{\n        console.log(`Ошибка создания карточек: ${err}`);\n      });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.url}/cards/${id}`,\n      {\n        method: 'DELETE',\n        headers: this.headers\n      }\n    )\n      .then(this._handleResponse)\n      .catch((err)=>{\n        console.log(`Ошибка удаления карточки: ${err}`);\n      });\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this.url}/cards/likes/${id}`,\n      {\n        method: 'PUT',\n        headers: this.headers\n      }\n    )\n      .then(this._handleResponse)\n      .catch((err)=>{\n        console.log(`Ошибка добавления лайка: ${err}`);\n      });\n    } else {\n      return fetch(`${this.url}/cards/likes/${id}`,\n      {\n        method: 'DELETE',\n        headers: this.headers\n      }\n    )\n      .then(this._handleResponse)\n      .catch((err)=>{\n        console.log(`Ошибка удаления лайка: ${err}`);\n      });\n    }\n  }\n}\n\nconst api = new Api(config);\n\nexport default api;\n","export const config = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: '76346dd7-8de1-4cc7-a3b8-f91fff5a3b7d',\n    'Content-Type': 'application/json'\n  }\n};\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      object: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n\n\n  return (\n    <PopupWithForm  title=\"Редактировать профиль\" name=\"editPopup\" submitButtonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n            <input type=\"text\" value={name || ''} onChange={handleNameChange} className=\"popup__input\" id=\"name\" minLength=\"2\" maxLength=\"40\" placeholder=\"Имя\" required name=\"name\" />\n            <span className=\"popup__text-error\" id=\"name-error\"></span>\n            <input type=\"text\" value={description || ''} onChange={handleDescriptionChange} className=\"popup__input\" id=\"subject\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required name=\"object\" />\n            <span className=\"popup__text-error\" id=\"subject-error\"></span>\n        </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const inputValue = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      object: inputValue.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm  title=\"Обновить аватар\" name=\"avatarPopup\" submitButtonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n      <input type=\"url\" className=\"popup__input popup__input_type_avatar\" id=\"source\" placeholder=\"Ссылка на аватарку\" required name=\"object\" ref={inputValue} />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n  const inputPlaceName = React.useRef();\n  const inputPlaceLink = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: inputPlaceName.current.value,\n      object: inputPlaceLink.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm  title=\"Новое место\" name=\"addPopup\" submitButtonText=\"Создать\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n      <input type=\"text\" className=\"popup__input\" id=\"place\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required name=\"name\" ref={inputPlaceName} />\n      <span className=\"popup__text-error\" id=\"place-error\"></span>\n      <input type=\"url\" className=\"popup__input\" id=\"source\" placeholder=\"Ссылка на картинку\" required name=\"object\" ref={inputPlaceLink} />\n      <span className=\"popup__text-error\" id=\"source-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUser().then((result) => {\n      setCurrentUser(result);\n    });\n    }, [])\n\n  React.useEffect(() => {\n     api.getInitialCards().then((data) => {\n      setCards(data);\n    });\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card.cardId, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card.cardId ? newCard : c);\n        setCards(newCards);\n      });\n  }\n\n  function handleCardDelete(id) {\n    api.deleteCard(id.cardId)\n      .then(() => {\n        const newCards = cards.filter((c) => {\n          return !(c._id === id.cardId)\n        });\n        setCards(newCards);\n      })\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleCardClick = (data) => {\n    setSelectedCard(data);\n  };\n\n  const handleUpdateUser = (data) => {\n    api.updateProfileInfo(data)\n      .then((newProfile) => {\n        setCurrentUser(newProfile);\n        closeAllPopups();\n      });\n  };\n\n  const handleUpdateAvatar = (data) => {\n    api.updateProfileAvatar(data)\n      .then((newAvatar) => {\n        setCurrentUser(newAvatar);\n        closeAllPopups();\n      });\n  };\n\n  const handleAddPlace = (data) => {\n    api.createCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard();\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n        <PopupWithForm  title=\"Вы уверены?\" name=\"confirmPopup\" submitButtonText=\"Да\" isOpen={false} onClose={closeAllPopups} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/header__logo.c6f11019.svg\";"],"sourceRoot":""}